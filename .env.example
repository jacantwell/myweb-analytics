# ==========================================
# Analytics Dashboard - Environment Configuration
# ==========================================
#
# Copy this file to .env and update with your actual values:
# cp .env.example .env
#

# ==========================================
# Environment Settings
# ==========================================
# Options: local, development, production
ENVIRONMENT=local

# Set to "true" to use AWS RDS, "false" for local Docker PostgreSQL
USE_AWS_RDS=false

# ==========================================
# Database Configuration (Local Development)
# ==========================================
# These values work with the docker-compose.yml setup
DB_HOST=localhost
DB_PORT=5432
DB_NAME=analytics
DB_USER=analytics_admin
DB_PASSWORD=local_dev_password

# ==========================================
# Database Configuration (AWS RDS)
# ==========================================
# Uncomment and set these when using AWS RDS
# USE_AWS_RDS=true
# DB_HOST=your-rds-endpoint.us-east-1.rds.amazonaws.com
# DB_PORT=5432
# DB_NAME=analytics
# DB_USER=analytics_admin
# DB_PASSWORD=your-secure-password

# OR use AWS Secrets Manager (recommended for production)
# DB_SECRET_ARN=arn:aws:secretsmanager:us-east-1:123456789:secret:analytics-db-xxxxx

# ==========================================
# AWS Configuration
# ==========================================
AWS_REGION=us-east-1
# AWS_PROFILE=default  # Uncomment to use specific AWS profile
# AWS_ACCESS_KEY_ID=your-access-key  # Not recommended, use IAM roles or profiles
# AWS_SECRET_ACCESS_KEY=your-secret-key

# ==========================================
# CloudFront Logs Configuration
# ==========================================
# S3 bucket containing CloudFront access logs
CLOUDFRONT_LOGS_BUCKET=your-cloudfront-logs-bucket
CLOUDFRONT_LOGS_PREFIX=cloudfront-logs/

# ==========================================
# Application Settings
# ==========================================
# Enable debug logging (shows SQL queries)
DEBUG=false

# SQLAlchemy connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ==========================================
# Streamlit Configuration
# ==========================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost

# Cache TTL in seconds (for Streamlit query caching)
CACHE_TTL=300

# ==========================================
# Log Processing Settings
# ==========================================
# Batch size for processing log files
LOG_BATCH_SIZE=1000

# Maximum number of log files to process per run
MAX_LOG_FILES_PER_RUN=100

# Session timeout in minutes (for session detection)
SESSION_TIMEOUT_MINUTES=30

# ==========================================
# Security Settings
# ==========================================
# Hash algorithm for visitor IDs (sha256 recommended)
VISITOR_HASH_ALGORITHM=sha256

# Salt for hashing visitor IPs (change this to a random value)
VISITOR_HASH_SALT=change-me-to-random-string

# ==========================================
# Development Settings
# ==========================================
# Enable SQL query echo (shows all queries in console)
SQLALCHEMY_ECHO=false

# Enable Streamlit development mode (auto-reload on changes)
STREAMLIT_DEV_MODE=true
